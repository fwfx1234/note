### 模型矩阵，视图矩阵，投影矩阵的学习

在webgl里，要画出3d模型的话需要用到很多新的概念（对于没学习过图形学的人来说，比如我）。第一个比较重要的概念就是相机，《webgl编程指南》这边书里在开始讲3d的时候直接提供`lookAt`函数来实现相机功能，但是并没有讲的很详细，或许是我没有看到。由于不想不明不白的直接使用现成的函数，所以在网上搜罗资料整理了本文，总结下来方便以后学习。

要实现相机，首先得知道三个概念，**模型坐标系** ，**世界坐标系**，**摄像机坐标系**， 首先**模型矩阵**是比较简单的，是模型所在空间的坐标系, 通常在模型内部

**世界坐标系** 指的是模型在webgl的坐标，模型可以通过矩阵变换放入世界坐标系里。

![image-20210204180010889](/Users/fwfx1234/note/webgl/images/image-20210204180010889.png)

个人主观上的理解，**模型坐标**就是描述模型的。比如立方体的四个点的位置，模型坐标系是随着模型的移动而移动，**世界坐标系**就是webgl坐标系，3d世界其他坐标系以该做坐标系作为参考，然后**摄像机坐标系**就是世界坐标系里选一个点，当作视点吧，这个点根据一些参数建立的坐标系，如图![image-20210203143135424](/Users/fwfx1234/note/webgl/images/image-20210203143135424.png)

![image-20210203104320347](/Users/fwfx1234/note/webgl/images/image-20210203104320347.png)

主要有三个参数$$(eye_x, eye_y, eye_z),(at_x, at_y, at_z), (upx,upy,upz)$$ 分别是视点，观察目标点，和上方向，由观察目标点和视点可以连接成一条视线，我们把视点想想成人的眼睛，在眼睛和观察点的位置不变的情况下，我们还可以以视线为轴旋转，这样看到的东西也不一样，所以要上方向来确定这个，上方向是个向量。（打个比方，类似于我们看显示器，假如我们由坐着看显示器改为侧卧看显示器，这样显示器和眼睛的空间位置没变，但是人相对于显示器是旋转90度了，我们看到的东西就不一样了，虽然显示器的内容一样，但是画面对于我们来说，画面已经旋转了，上方向就是来确定这个的，相当于头的朝向）

#### 坐标系直接的转换

在模型坐标系和世界坐标系的转换中，为了方便，有人引入的惯性坐标系，惯性坐标系原点和模型坐标系原点相同，方向和世界坐标系保持水平。

![image-20210203143738522](/Users/fwfx1234/note/webgl/images/image-20210203143738522.png)

由这两个特性就可以推出，模型坐标系到世界坐标系可以先经过旋转，然后通过平移来变换到世界坐标系



> 卡住了，数学不行，先补数学，日后继续